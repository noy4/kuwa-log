(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(7284)}])},7284:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return J}});var n=r(5893),o=r(8520),i=r.n(o),a=r(5503),u=r(6257);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}a.C6().length||(a.ZF({apiKey:"AIzaSyD0CsHkgnogjmE3HX5wEBbJHgNfJ88F9W4",authDomain:"kuwa-log.firebaseapp.com",projectId:"kuwa-log",storageBucket:"kuwa-log.appspot.com",messagingSenderId:"509974986186",appId:"1:509974986186:web:9d75014d752937d33e2333"}),console.log("Init firebase"));var l=(0,u.ad)(),s=function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){c(e,t,r[t])}))}return e}({},e,{createdAt:e.createdAt.toDate(),updatedAt:e.updatedAt.toDate()})},f=(0,u.hJ)(l,"tags"),d=(0,u.hJ)(l,"kLogs"),p=r(8527),m=r(9238),h=r(4612),v=r(6356),y=r(4746),x=r(2193),b=r(944),j=r(6677),g=r(7536);function w(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(l){return void r(l)}u.done?t(c):Promise.resolve(c).then(n,o)}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){O(e,t,r[t])}))}return e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){o=!0,i=c}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var S=function(){var e,t=P((0,j.d4)((0,u.IO)(d,(0,u.Xo)("updatedAt","desc")),{idField:"id",refField:"ref",transform:s}),2),r=t[0],o=void 0===r?[]:r,a=t[1],c=(0,g.cI)(),l=c.handleSubmit,f=c.register,O=c.reset,S=l((e=i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k({},t,{tags:[],createdAt:new Date,updatedAt:new Date}),e.next=3,(0,u.ET)(d,r);case 3:O();case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){w(i,n,o,a,u,"next",e)}function u(e){w(i,n,o,a,u,"throw",e)}a(void 0)}))}));return(0,n.jsxs)(p.kC,{direction:"column",h:"full",children:[(0,n.jsxs)(p.kC,{align:"center",mt:"8",mb:"4",children:[(0,n.jsx)(p.X6,{children:"\u304f\u308f\u30ed\u30b0"}),(0,n.jsx)(p.LZ,{}),a&&(0,n.jsx)(m.$,{})]}),(0,n.jsx)("form",{onSubmit:S,children:(0,n.jsx)(h.II,k({},f("title"),{mb:"4",isRequired:!0}))}),(0,n.jsx)(p.xu,{overflowY:"auto",flex:"1",children:o.map((function(e,t){return(0,n.jsxs)(p.kC,{my:"2",py:"2",align:"center",role:"group",wrap:"wrap",children:[(0,n.jsx)(p.xu,{children:e.title}),(0,n.jsx)(p.LZ,{}),e.tags.map((function(e,t){return(0,n.jsx)(v.Vp,{variant:"solid",fontSize:"xx-small",size:"sm",mx:"1",children:e},t)})),(0,n.jsx)(p.xu,{fontSize:"xs",ml:"auto",children:(0,x.Z)(e.updatedAt,{locale:b.Z})}),(0,n.jsx)(y.P,{display:"none",rounded:"full",w:"6",h:"6",ml:"2",_groupHover:{display:"block"},onClick:function(){return(0,u.oe)(e.ref)}})]},t)}))})]})},I=r(1604),A=r(1391);function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var D=(0,I.Gp)((function(e,t){var r=e.options,o=C(e,["options"]);return(0,n.jsx)(A.Ph,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){E(e,t,r[t])}))}return e}({ref:t},o,{children:r.map((function(e){return(0,n.jsx)("option",{value:e.value,children:e.text},e.value)}))}))}));function _(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(l){return void r(l)}u.done?t(c):Promise.resolve(c).then(n,o)}function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){W(e,t,r[t])}))}return e}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){o=!0,i=c}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var X=function(){var e,t=Z((0,j.d4)((0,u.IO)(f,(0,u.Xo)("updatedAt","asc")),{refField:"ref",transform:s}),2),r=t[0],o=void 0===r?[]:r,a=t[1],c=(0,g.cI)(),l=c.handleSubmit,d=c.register,x=c.reset,b=l((e=i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=z({},t,{createdAt:new Date,updatedAt:new Date}),e.next=3,(0,u.ET)(f,r);case 3:x();case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){_(i,n,o,a,u,"next",e)}function u(e){_(i,n,o,a,u,"throw",e)}a(void 0)}))}));return(0,n.jsxs)(p.kC,{direction:"column",h:"full",children:[(0,n.jsxs)(p.kC,{align:"center",mt:"8",mb:"4",children:[(0,n.jsx)(p.X6,{children:"\u30bf\u30b0"}),(0,n.jsx)(p.LZ,{}),a&&(0,n.jsx)(m.$,{})]}),(0,n.jsx)("form",{onSubmit:b,children:(0,n.jsx)(h.II,z({},d("title"),{mb:"4",isRequired:!0}))}),(0,n.jsx)(p.xu,{flex:"1",overflowY:"auto",children:(0,n.jsx)(p.kC,{gap:"1",wrap:"wrap",children:o.map((function(e,t){return(0,n.jsxs)(v.Vp,{variant:"solid",fontSize:"xx-small",size:"sm",role:"group",children:[e.title,(0,n.jsx)(y.P,{display:"none",rounded:"full",w:"5",h:"5",size:"sm",ml:"2",_groupHover:{display:"block"},onClick:function(){return(0,u.oe)(e.ref)}})]},t)}))})})]})},T=r(7294);function F(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(l){return void r(l)}u.done?t(c):Promise.resolve(c).then(n,o)}function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){H(e,t,r[t])}))}return e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){o=!0,i=c}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var K=function(e){var t,r=e.storageKey,o=(0,g.cI)({defaultValues:{tag:""}}),a=o.register,c=o.watch,l=o.reset,w=(0,g.cI)(),O=w.handleSubmit,k=w.register,P=w.reset,S=c("tag"),I=N((0,j.d4)((0,u.IO)(d,(0,u.ar)("tags","array-contains",S),(0,u.Xo)("updatedAt","desc")),{refField:"ref",transform:s}),2),A=I[0],E=void 0===A?[]:A,C=I[1],_=N((0,j.d4)((0,u.IO)(f,(0,u.Xo)("updatedAt","desc")),{refField:"ref",transform:s}),1)[0],W=void 0===_?[]:_,z=W.map((function(e){return{value:e.title,text:e.title}})),Z=O((t=i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=L({},t,{tags:[S],createdAt:new Date,updatedAt:new Date}),e.next=3,(0,u.ET)(d,r);case 3:P();case 4:case"end":return e.stop()}}),e)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){F(i,n,o,a,u,"next",e)}function u(e){F(i,n,o,a,u,"throw",e)}a(void 0)}))}));return(0,T.useEffect)((function(){var e,t=localStorage[r]||(null===(e=W[0])||void 0===e?void 0:e.title)||"";l({tag:t})}),[W]),(0,T.useEffect)((function(){S&&localStorage.setItem(r,S)}),[S]),(0,n.jsxs)(p.kC,{direction:"column",h:"full",children:[(0,n.jsxs)(p.kC,{align:"center",mt:"8",mb:"4",children:[(0,n.jsx)(D,L({},a("tag"),{options:z,w:"40"})),(0,n.jsx)(p.LZ,{}),C&&(0,n.jsx)(m.$,{})]}),(0,n.jsx)("form",{onSubmit:Z,children:(0,n.jsx)(h.II,L({},k("title"),{mb:"4",isRequired:!0}))}),(0,n.jsx)(p.xu,{overflowY:"auto",flex:"1",children:E.map((function(e,t){return(0,n.jsxs)(p.kC,{my:"2",py:"2",align:"center",role:"group",wrap:"wrap",children:[(0,n.jsx)(p.xu,{children:e.title}),(0,n.jsx)(p.LZ,{}),e.tags.map((function(e,t){return(0,n.jsx)(v.Vp,{variant:"solid",fontSize:"xx-small",size:"sm",mx:"1",children:e},t)})),(0,n.jsx)(p.xu,{fontSize:"xs",ml:"auto",children:(0,x.Z)(e.updatedAt,{locale:b.Z})}),(0,n.jsx)(y.P,{display:"none",rounded:"full",w:"6",h:"6",ml:"2",_groupHover:{display:"block"},onClick:function(){return(0,u.oe)(e.ref)}})]},t)}))})]})},J=function(){return(0,n.jsxs)(p.rj,{templateColumns:"repeat(3, 1fr)",children:[(0,n.jsx)(p.W2,{maxW:"sm",h:"50vh",children:(0,n.jsx)(X,{})}),(0,n.jsx)(p.W2,{maxW:"sm",gridRow:"span 2",h:"100vh",children:(0,n.jsx)(S,{})}),(0,n.jsx)(p.W2,{maxW:"sm",h:"50vh",children:(0,n.jsx)(K,{storageKey:"tag1"})}),(0,n.jsx)(p.W2,{maxW:"sm",h:"50vh",children:(0,n.jsx)(K,{storageKey:"tag2"})}),(0,n.jsx)(p.W2,{maxW:"sm",h:"50vh",children:(0,n.jsx)(K,{storageKey:"tag3"})})]})}}},function(e){e.O(0,[16,274,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);